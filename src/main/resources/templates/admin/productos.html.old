<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
    <meta charset="UTF-8">
    <title>Productos | Merko</title>
    <link rel="stylesheet" th:href="@{/css/admin.css}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
</head>
<body>

<header class="topbar">
    <div class="logo">Merko Admin</div>
    <nav>
        <form id="logoutForm" action="/logout" method="post" style="display:none;">
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
        </form>
        <a href="#" class="btn-logout"
           onclick="event.preventDefault(); document.getElementById('logoutForm').submit();">
            <i class="fas fa-sign-out-alt"></i> Salir
        </a>
    </nav>
</header>


<aside class="sidebar">
    <ul>
        <li><a th:href="@{/admin}"><i class="fas fa-tachometer-alt"></i> Inicio</a></li>
        <li><a th:href="@{/admin/productos}"><i class="fas fa-box"></i> Productos</a></li>
        <li><a th:href="@{/ventas}"><i class="fas fa-shopping-cart"></i> Ventas</a></li>
        <li><a th:href="@{/ventas/nueva}"><i class="fas fa-cart-plus"></i> Registrar Venta</a></li>
        <li><a th:href="@{/admin/compras/nueva}"><i class="fas fa-truck"></i> Comprar Productos</a></li>
        <li><a th:href="@{/admin/proveedores/nuevo}"><i class="fas fa-user-plus"></i> Registrar Proveedor</a></li>
        <li><a th:href="@{/admin/proveedores/nuevoo}"><i class="fas fa-plus-square"></i> Producto a Proveedor</a></li>
    </ul>
</aside>

<main class="content">
    <h1>Lista de Productos</h1>

    <div style="margin: 20px 0;">
        <a th:href="@{/productos/nuevo}" class="btn-logout" style="background-color: var(--color-secundario); padding: 10px 15px;">+ Nuevo Producto</a>
    </div>

    <table style="width:100%; border-collapse: collapse; background: white; border-radius: 10px; overflow: hidden;">
        <thead style="background: var(--color-primario); color: white;">
        <tr>
            <th style="padding: 10px;">Nombre</th>
            <th style="padding: 10px;">Precio</th>
            <th style="padding: 10px;">Stock</th>
            <th style="padding: 10px;">Categor√≠a</th>
            <th style="padding: 10px;">Acciones</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="producto : ${productos}" style="text-align: center;">
            <td th:text="${producto.nombre}" style="padding: 10px;"></td>
            <td th:text="${producto.precio}" style="padding: 10px;"></td>
            <td th:text="${producto.stock}" style="padding: 10px;"></td>
            <td th:text="${producto.categoria}" style="padding: 10px;"></td>
            <td style="padding: 10px;">
                <a th:href="@{/productos/editar/{id}(id=${producto.id})}" class="btn-logout" style="background-color:#2980b9; padding: 5px 10px;">Editar</a>
                <a th:href="@{/productos/eliminar/{id}(id=${producto.id})}" class="btn-logout" style="background-color:#c0392b; padding: 5px 10px;">Eliminar</a>
            </td>
        </tr>
        </tbody>
    </table>
</main>

</body>
</html>
